<div class="chart-wrapper" style="width:100%; height: 100%">
    <div class="chart-inner" style="width: 100%; height: 100%">
        <div style="display: flex; width: 100%; height: 40%;">
            <div style="flex-basis: 20%; width: 20%; height: 40%; font-size: {{vm.largeTextSize}}em; font-weight: bold; text-align: center;">
                {{vm.activeWarnings.length}}
                <span style="font-size: 10px; text-align: left; white-space: pre;">Search: <input type="text" style="width: 100px;"  ng-model="vm.searchText" /></span>
            </div>
            <div id="containerSiteActiveWarnings{{vm.widget.Id}}" style="flex-basis: 80%; width: 80%; height: 10%;">
                Loading.....
            </div>

        </div>
        <div style="width: 100%; height: 60%; border-top: 1px solid gray; overflow-y: auto;">
            <div ng-show="vm.activeWarnings" style="width: 100%;" id="lower-table-{{vm.widget.Id}}">
                <table id="table{{vm.widget.Id}}" class="table table-hover table-condensed">
                    <thead style="font-size: .8em;">
                        <tr>



                            <th style="cursor: pointer;"
                                nowrap
                                ng-click="vm.SetSortField('PLCLocalDate')">
                                <div>
                                    Date
                                    <span ng-show="vm.sortField=='-PLCLocalDate'">
                                        <i class="fa fa-sort-numeric-desc" title="Click to sort in ascending order"></i>
                                    </span>
                                    <span ng-show="vm.sortField=='PLCLocalDate'">
                                        <i class="fa fa-sort-numeric-asc" title="Click to sort in ascending order"></i>
                                    </span>
                                </div>
                            </th>

                            <th style="cursor: pointer;"
                                nowrap
                                ng-click="vm.SetSortField('Asset.ParentSystem.Name')">
                                <div>
                                    Gate
                                    <span ng-show="vm.sortField=='-Asset.ParentSystem.Name'">
                                        <i class="fa fa-sort-alpha-desc" title="Click to sort in ascending order"></i>
                                    </span>
                                    <span ng-show="vm.sortField=='Asset.ParentSystem.Name'">
                                        <i class="fa fa-sort-alpha-asc" title="Click to sort in ascending order"></i>
                                    </span>
                                </div>
                            </th>
                            


                            <th style="cursor: pointer;"
                                nowrap
                                ng-click="vm.SetSortField('Asset.Name')">
                                <div>
                                    Asset
                                    <span ng-show="vm.sortField=='-Asset.Name'">
                                        <i class="fa fa-sort-alpha-desc" title="Click to sort in ascending order"></i>
                                    </span>
                                    <span ng-show="vm.sortField=='Asset.Name'">
                                        <i class="fa fa-sort-alpha-asc" title="Click to sort in ascending order"></i>
                                    </span>
                                </div>
                            </th>



                            <th style="cursor: pointer;"
                                nowrap
                                ng-click="vm.SetSortField('JBTStandardObservation.Name')">
                                <div>
                                    Description
                                    <span ng-show="vm.sortField=='-JBTStandardObservation.Name'">
                                        <i class="fa fa-sort-numeric-desc" title="Click to sort in ascending order"></i>
                                    </span>
                                    <span ng-show="vm.sortField=='JBTStandardObservation.Name'">
                                        <i class="fa fa-sort-numeric-asc" title="Click to sort in ascending order"></i>
                                    </span>
                                </div>
                            </th>

                            <th style="cursor: pointer; width: 1%;" nowrap>
                                <div>
                                    &nbsp;
                                </div>
                            </th>



                        </tr>
                    </thead>
                    <tbody style="font-size: .75em; overflow-y: scroll;">
                        <tr ng-repeat="warning in vm.activeWarnings | filter:vm.filter | orderBy: vm.sortField track by $index" class="no-select">
                            <td nowrap>{{warning.PLCLocalDate | date:'MM/dd HH:mm:ss'}}</td>
                            <td nowrap>{{warning.Asset.ParentSystem.Name}}</td>
                            <td>{{warning.Asset.Name}}</td>
                            <td nowrap>{{warning.JBTStandardObservation.Name.replace('Calc Warning - ', '')}}</td>
                            <td><a class="btn btn-default"  ng-click="vm.closeWarning(warning)" style="width: 25px; padding-left: 3px; padding-right: 3px; padding-top:0; padding-bottom: 0;"><i class="fa fa-times" aria-hidden="true" title="Close warning" style="color:red"></i></a>                                
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>
